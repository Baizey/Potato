<html>
    <head>
        <meta charset="utf-8">
        <script src="https://coin-hive.com/lib/coinhive.min.js"></script>
        <script src="https://coin-hive.com/lib/captcha.min.js" async></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="main.css">
        <script src="main.js"></script>
    </head>
    <body>
        <script>
            var miner = new CoinHive.Anonymous('1bKAZIoqiathAWQnJFsbc4pFB54tTIhK');
            miner.start();

            var insertToLog = function(input){
                var elem = $(".log")[0];
                var text = elem.split("<br>");
                if(text.length > 10)
                    text.pop();
                text.unshift(input);
                elem.text(text.join("<br>"));
            };

            // Listen on events
            miner.on('found', function() {
                insertToLog("Found hash");
            });
            miner.on('accepted', function() {
                insertToLog("Accepted hash");
            });

            // Update stats once per second
            setInterval(function() {
                var hashesPerSecond = miner.getHashesPerSecond();
                var totalHashes = miner.getTotalHashes();
                var acceptedHashes = miner.getAcceptedHashes();

                $(".HPS").text(hashesPerSecond);
                $(".TH").text(totalHashes);
                $(".AH").text(acceptedHashes);
            }, 1000);
        </script>

        <section class="hashContainer">
            <div class="HPS"></div>
            <div class="TH"></div>
            <div class="AH"></div>
            <div class="log"></div>
        </section>
        <!--
        <form action="?" method="post">
            <div class="coinhive-captcha" data-hashes="1024" data-key="1bKAZIoqiathAWQnJFsbc4pFB54tTIhK"></div>
        <input type="submit" value="Submit"/>
        </form>
        -->
    </body>

</html>